  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>© <span id="year"></span> Payton St Geme</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
    const y = document.getElementById('year');
    if (y) y.textContent = new Date().getFullYear();

    fetch("header.html")   <!-- ✅ note: no leading "/" -->
      .then(r => r.text())
      .then(html => {
        const host = document.getElementById("site-header");
        host.innerHTML = html;

        // highlight active link
        const path = location.pathname.replace(/index\.html$/, "/");
        const isHome  = path === "/" || path === "";
        const isPosts = path.endsWith("posts.html") || path.includes("/posts/");
        const isViews = path.endsWith("views.html");
        host.querySelectorAll(".nav-link").forEach(a => a.classList.remove("active"));
        if (isHome)  host.querySelector('.nav a[href="index.html"]')?.classList.add("active");
        if (isPosts) host.querySelector('.nav a[href="posts.html"]')?.classList.add("active");
        if (isViews) host.querySelector('.nav a[href="views.html"]')?.classList.add("active");

        // menu wiring
        const btn = host.querySelector(".menu-button");
        const sidebar = host.querySelector(".sidebar");
        const backdrop = host.querySelector(".backdrop");
        function openMenu(){ sidebar.classList.add("open"); document.body.classList.add("menu-open"); btn.setAttribute("aria-expanded","true"); sidebar.setAttribute("aria-hidden","false"); backdrop.hidden = false; }
        function closeMenu(){ sidebar.classList.remove("open"); document.body.classList.remove("menu-open"); btn.setAttribute("aria-expanded","false"); sidebar.setAttribute("aria-hidden","true"); backdrop.hidden = true; }
        btn?.addEventListener("click", () => sidebar.classList.contains("open") ? closeMenu() : openMenu());
        backdrop?.addEventListener("click", closeMenu);
        document.addEventListener("keydown", e => { if (e.key === "Escape") closeMenu(); });
      });
  </script>
</body>
</html>
