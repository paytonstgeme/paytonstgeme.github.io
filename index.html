<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Payton St. Geme</title>

  <!-- Google Material Icons: menu & menu_open -->
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=menu,menu_open" />

  <link rel="stylesheet" href="style.css">
  <script src="scripts/main.js" defer></script>
</head>

<body>

  <!-- Main Centered Content -->
  <div class="container">
    <!-- Hamburger Menu Button -->
    <span class="material-symbols-outlined menu-btn" id="menuBtn">menu</span>

    <!-- Logo & Title -->
    <a href="index.html" class="logo">
  <img src="assets/your-logo.png" alt="Payton St. Geme Logo">
  <span>Payton St. Geme</span>
</a>

  </div>

  <!-- Sidebar Navigation -->
  <nav class="sidebar" id="sidebar">
    <ul class="nav-list">
      <li><a href="index.html" class="active">Home</a></li>
      <li><a href="posts.html">Posts</a></li>
      <li><a href="views.html">Views</a></li>
    </ul>
  </nav>

  <!-- Overlay -->
  <div class="overlay" id="overlay"></div>
  
  <main class="container">
    <!-- Posts list will be dynamically populated here -->
    <div class="post-list" id="posts-list"></div>
  </main>
  <!-- JavaScript: populate posts list -->
  <script>
    // Fetch posts from the JSON index and build the list
    fetch('data/posts_index.json')
      .then(resp => resp.json())
      .then(posts => {
        const postsList = document.getElementById('posts-list');
        // Helper to format ISO date to human-readable (e.g., October 20, 2025)
        function formatDate(iso) {
          const date = new Date(iso);
          return date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
        }
        posts.forEach(post => {
          const item = document.createElement('div');
          item.className = 'post-item';
          item.innerHTML = `
            <a href="${post.url}">
              <h2>${post.title}</h2>
              <div class="meta"><time datetime="${post.date}">${formatDate(post.date)}</time></div>
              <p>${post.desc}</p>
            </a>
          `;
          postsList.appendChild(item);
        });
      })
      .catch(err => {
        console.error('Error loading posts index:', err);
        const postsList = document.getElementById('posts-list');
        postsList.innerHTML = '<p>Error loading posts.</p>';
      });
  </script>

</body>
</html>
