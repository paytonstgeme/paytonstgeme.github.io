<!-- MENU BUTTON -->
<button class="menu-button" aria-label="Open menu" id="menuBtn">
  <span class="material-symbols-outlined">menu</span>
</button>

<!-- SIDEBAR NAV -->
<nav class="sidebar" id="sidebar">
  <div class="nav">
    <a href="/" class="nav-link">HOME</a>
    <a href="/posts.html" class="nav-link">POSTS</a>
    <a href="/views.html" class="nav-link">VIEWS</a>
  </div>
</nav>

<!-- BACKDROP -->
<div class="backdrop" id="backdrop"></div>

<!-- BACK-TO-POSTS BUTTON (only on post pages) -->
<div id="back-to-posts-placeholder"></div>

<script>
  // === MENU TOGGLE ===
  const btn = document.getElementById('menuBtn');
  const sidebar = document.getElementById('sidebar');
  const backdrop = document.getElementById('backdrop');
  const body = document.body;

  function openMenu() {
    sidebar.classList.add('open');
    backdrop.classList.add('open');
    body.classList.add('menu-open');
    btn.innerHTML = '<span class="material-symbols-outlined">menu_open</span>';
  }
  function closeMenu() {
    sidebar.classList.remove('open');
    backdrop.classList.remove('open');
    body.classList.remove('menu-open');
    btn.innerHTML = '<span class="material-symbols-outlined">menu</span>';
  }

  btn.addEventListener('click', () => sidebar.classList.contains('open') ? closeMenu() : openMenu());
  backdrop.addEventListener('click', closeMenu);

  // === BACK-TO-POSTS BUTTON (only inject on /posts/*.html) ===
  if (window.location.pathname.startsWith('/posts/') && window.location.pathname !== '/posts.html') {
    const placeholder = document.getElementById('back-to-posts-placeholder');
    placeholder.innerHTML = `
      <a href="/posts.html" class="back-to-posts" aria-label="Back to all posts">
        <span class="material-symbols-outlined">arrow_circle_left</span>
      </a>
    `;
  }
</script>
